task.wait(1.5)

local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local ingame = false
local Ragekeybind = false
local originPosition = nil
local target = nil
local TARGET_NAME = "Barriers"

if game.Workspace:FindFirstChild("ShootingRangeEntities") then

local repo = "https://raw.githubusercontent.com/LHO1221/Neo-sCheat/refs/heads/main/"
local Library = loadstring(game:HttpGet(repo .. "loader.lua"))()
local ThemeManager = loadstring(game:HttpGet(repo .. "Theme"))()
local SaveManager = loadstring(game:HttpGet(repo .. "Config"))()
local unloaded = false

local Options = Library.Options
local Toggles = Library.Toggles

Library.ForceCheckbox = false
Library.ShowToggleFrameInKeybinds = true

local Window = Library:CreateWindow({
	Title = "Neo's Cheat",
	Footer = "version: 0.139",
	Icon = 123542182816409,
	NotifySide = "Left",
	ShowCustomCursor = true,
})

local Tabs = {
	Main = Window:AddTab("Combat", "swords"),
    Main2 = Window:AddTab("Rage", "locate"),
    Main3 = Window:AddTab("Visuals", "sparkles"),
    Main4 = Window:AddTab("Esp", "user"),
	["UI Settings"] = Window:AddTab("UI Settings", "settings"),
}

local AimGroupBox = Tabs.Main:AddLeftGroupbox("Aim", "locate")
local RagebotGroupBox = Tabs.Main2:AddLeftGroupbox("Ragebot", "locate")
local CharacterGroupBox = Tabs.Main:AddRightGroupbox("Character", "user")
local MiscGroupBox = Tabs.Main:AddRightGroupbox("Misc", "plus")
local EspGroupBox = Tabs.Main4:AddLeftGroupbox("Esp", "box")

AimGroupBox:AddToggle("SilentAimToggle", {
	Text = "Silent Aim",
	Tooltip = "Silent aim toggle",
	DisabledTooltip = "Silent aim is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] SilentAimToggle changed to:", Value)
	end,
})

Toggles.SilentAimToggle:OnChanged(function()
	print("SilentAimToggle changed to:", Toggles.SilentAimToggle.Value)
end)

AimGroupBox:AddToggle("AimbotToggle", {
	Text = "Aimbot",
	Tooltip = "Aimbot toggle",
	DisabledTooltip = "Aimbot is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] AimbotToggle changed to:", Value)
	end,
})

Toggles.AimbotToggle:OnChanged(function()
	print("AimbotToggle changed to:", Toggles.AimbotToggle.Value)
end)

AimGroupBox:AddDivider()

AimGroupBox:AddSlider("SilentAimSilder", {
	Text = "SilentAim Radius",
	Default = 200,
	Min = 0,
	Max = 1000,
	Rounding = 1,
	Compact = false,

	Callback = function(Value)
		print("[cb] SilentAimSilder was changed! New value:", Value)
	end,

	Tooltip = "Edit silent aim radius",
	DisabledTooltip = "Edit silent aim radius",

	Disabled = false,
	Visible = true,
})

AimGroupBox:AddSlider("AimbotSilder", {
	Text = "Aimbot Radius",
	Default = 200,
	Min = 0,
	Max = 1000,
	Rounding = 1,
	Compact = false,

	Callback = function(Value)
		print("[cb] AimbotSilder was changed! New value:", Value)
	end,

	Tooltip = "Edit aimbot radius",
	DisabledTooltip = "Edit aimbot radius",

	Disabled = false,
	Visible = true,
})

AimGroupBox:AddSlider("AimbotSmoothingSilder", {
	Text = "AimbotSmoothing Radius",
	Default = 50,
	Min = 0,
	Max = 100,
	Rounding = 1,
	Compact = false,

	Callback = function(Value)
		print("[cb] AimbotSmoothingSilder was changed! New value:", Value)
	end,

	Tooltip = "Edit aimbot smoothing radius",
	DisabledTooltip = "Edit aimbot smoothing radius",

	Disabled = false,
	Visible = true,
})

CharacterGroupBox:AddToggle("WalkSpeedToggle", {
	Text = "WalkSpeed",
	Tooltip = "Walkspeed toggle",
	DisabledTooltip = "Walkspeed is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] WalkSpeedToggle changed to:", Value)
	end,
})

Toggles.WalkSpeedToggle:OnChanged(function()
	print("WalkSpeedToggle changed to:", Toggles.WalkSpeedToggle.Value)
end)

CharacterGroupBox:AddToggle("FlyToggle", {
	Text = "Fly",
	Tooltip = "Fly toggle",
	DisabledTooltip = "Fly is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] FlyToggle changed to:", Value)
	end,
})

Toggles.FlyToggle:OnChanged(function()
	print("FlyToggle changed to:", Toggles.FlyToggle.Value)
end)

CharacterGroupBox:AddDivider()

CharacterGroupBox:AddSlider("WalkSpeedSlilder", {
	Text = "WalkSpeed Radius",
	Default = 1,
	Min = 0,
	Max = 50,
	Rounding = 1,
	Compact = false,

	Callback = function(Value)
		print("[cb] WalkSpeedSlilder was changed! New value:", Value)
	end,

	Tooltip = "Edit walkspeed radius",
	DisabledTooltip = "Edit walkspeed radius",

	Disabled = false,
	Visible = true,
})

CharacterGroupBox:AddSlider("FlySpeedSlilder", {
	Text = "FlySpeed Radius",
	Default = 20,
	Min = 0,
	Max = 100,
	Rounding = 1,
	Compact = false,

	Callback = function(Value)
		print("[cb] FlySpeedSlilder was changed! New value:", Value)
	end,

	Tooltip = "Edit fly speed radius",
	DisabledTooltip = "Edit fly speed radius",

	Disabled = false,
	Visible = true,
})

RagebotGroupBox:AddToggle("RagebotToggle", {
	Text = "Ragebot",
	Tooltip = "Ragebot toggle",
	DisabledTooltip = "Ragebot is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] RagebotToggle changed to:", Value)
	end,
})

Toggles.RagebotToggle:OnChanged(function()
	print("RagebotToggle changed to:", Toggles.RagebotToggle.Value)
end)

MiscGroupBox:AddToggle("BoundToggle", {
	Text = "Disable Out Of Bounds",
	Tooltip = "Disable Out Of Bounds toggle",
	DisabledTooltip = "Disable Out Of Bounds is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] BoundToggle changed to:", Value)
	end
})

Toggles.BoundToggle:OnChanged(function()
	print("BoundToggle changed to:", Toggles.BoundToggle.Value)
end)

EspGroupBox:AddToggle("BoxToggle", {
	Text = "Box",
	Tooltip = "Box toggle",
	DisabledTooltip = "Box is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] BoxToggle changed to:", Value)
	end,
})

Toggles.BoxToggle:OnChanged(function()
	print("BoxToggle changed to:", Toggles.BoxToggle.Value)
end)

EspGroupBox:AddToggle("NameToggle", {
	Text = "Name",
	Tooltip = "Name toggle",
	DisabledTooltip = "Name is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] NameToggle changed to:", Value)
	end,
})

EspGroupBox:AddToggle("HealthToggle", {
	Text = "Healthbar",
	Tooltip = "Healthbar toggle",
	DisabledTooltip = "Healthbar is disabled",

	Default = false,
	Disabled = false,
	Visible = true,
	Risky = false,

	Callback = function(Value)
		print("[cb] Healthbar changed to:", Value)
	end,
})

Toggles.HealthToggle:OnChanged(function()
	print("HealthToggle changed to:", Toggles.HealthToggle.Value)
end)

RagebotGroupBox:AddLabel("Keybind"):AddKeyPicker("RageKeybind", {
	Default = "Z",
	SyncToggleState = false,

	Mode = "Toggle",

	Text = "Rage",
	NoUI = false,

	Callback = function(Value)
		print("[cb] Keybind clicked!", Value)
        Ragekeybind = Value
	end,

	ChangedCallback = function(NewKey, NewModifiers)
		print("[cb] Keybind changed!", NewKey, table.unpack(NewModifiers or {}))
	end,
})

--Menu

Library:OnUnload(function()
    unloaded = true
	print("Unloaded!")
end)

local MenuGroup = Tabs["UI Settings"]:AddLeftGroupbox("Menu", "wrench")

MenuGroup:AddToggle("KeybindMenuOpen", {
	Default = Library.KeybindFrame.Visible,
	Text = "Open Keybind Menu",
	Callback = function(value)
		Library.KeybindFrame.Visible = value
	end,
})
MenuGroup:AddToggle("ShowCustomCursor", {
	Text = "Custom Cursor",
	Default = true,
	Callback = function(Value)
		Library.ShowCustomCursor = Value
	end,
})
MenuGroup:AddDropdown("NotificationSide", {
	Values = { "Left", "Right" },
	Default = "Left",

	Text = "Notification Side",

	Callback = function(Value)
		Library:SetNotifySide(Value)
	end,
})
MenuGroup:AddDropdown("DPIDropdown", {
	Values = { "85%", "90%", "95%", "100%", "105%", "110%", "115%" },
	Default = "100%",

	Text = "DPI Scale",

	Callback = function(Value)
		Value = Value:gsub("%%", "")
		local DPI = tonumber(Value)

		Library:SetDPIScale(DPI)
	end,
})
MenuGroup:AddDivider()
MenuGroup:AddLabel("Menu bind")
	:AddKeyPicker("MenuKeybind", { Default = "RightShift", NoUI = true, Text = "Menu keybind" })

MenuGroup:AddButton("Unload", function()
	Library:Unload()
end)

Library.ToggleKeybind = Options.MenuKeybind

ThemeManager:SetLibrary(Library)
SaveManager:SetLibrary(Library)

SaveManager:IgnoreThemeSettings()

SaveManager:SetIgnoreIndexes({ "MenuKeybind" })

ThemeManager:SetFolder("NeoCheats")
SaveManager:SetFolder("NeoCheats")
SaveManager:SetSubFolder("NeoCheats")

SaveManager:BuildConfigSection(Tabs["UI Settings"])

ThemeManager:ApplyToTab(Tabs["UI Settings"])

SaveManager:LoadAutoloadConfig()

--main

local function startTeleportLoop(character)
    coroutine.wrap(function()
        while true do
            local hrp = character:WaitForChild("HumanoidRootPart")
            if character.Parent and Toggles.RagebotToggle.Value == true and Ragekeybind and ingame == true and not unloaded then
                if not originPosition then
                   originPosition = hrp.Position
                end
                if target then
                else
                   local offsetX = math.random(-325, 325)
                   local offsetY = math.random(-100, 100)
                   local offsetZ = math.random(-325, 325)
                   local newPosition = originPosition + Vector3.new(offsetX, offsetY, offsetZ)
                   hrp.CFrame = CFrame.new(newPosition)
                end
            else
                if originPosition and ingame then
                   hrp.CFrame = CFrame.new(originPosition)
                   originPosition = nil
                end
            end
            task.wait()
        end
    end)()
end

local function ESP(espplayer)
    local ESPConnection

    local Drawings = {
        BoxOutline = Drawing.new("Square"),
        Box = Drawing.new("Square"),
        Name = Drawing.new("Text"),
        HealthBarOutline = Drawing.new("Square"),
        HealthBar = Drawing.new("Square")
    }

    Drawings.Name.Size = 18
    Drawings.Name.Center = true
    Drawings.Name.Outline = true
    Drawings.Name.Color = Color3.new(1, 1, 1)
    Drawings.Name.Visible = false

    Drawings.HealthBarOutline.Thickness = 1
    Drawings.HealthBarOutline.Filled = true
    Drawings.HealthBarOutline.Color = Color3.new(0, 0, 0)
    Drawings.HealthBarOutline.Visible = false

    Drawings.HealthBar.Thickness = 1
    Drawings.HealthBar.Filled = true
    Drawings.HealthBar.Visible = false

    local UpdateESP = function()
        local ESPConnection = RunService.RenderStepped:Connect(function()
            local Camera = workspace.CurrentCamera
            local Character = espplayer.Character
            
            if Character then
                local Humanoid = Character:FindFirstChild("Humanoid")
                local HumanoidRootPart = Character:FindFirstChild("HumanoidRootPart")

                if Humanoid and HumanoidRootPart then
                    local Position, OnScreen = Camera:WorldToViewportPoint(HumanoidRootPart.Position)
                    
                    if OnScreen then
                        local scale = 1 / (Position.Z * math.tan(math.rad(Camera.FieldOfView * 0.5)) * 2) * 1000
                        local width, height = math.floor(4.5 * scale), math.floor(6 * scale)
                        local x, y = math.floor(Position.X), math.floor(Position.Y)
                        local xPosition, yPosition = math.floor(x - width * 0.5), math.floor(y - height * 0.5)

                        Drawings.BoxOutline.Size = Vector2.new(width, height)
                        Drawings.BoxOutline.Position = Vector2.new(xPosition, yPosition)
                        Drawings.BoxOutline.Visible = Toggles.BoxToggle.Value
                        Drawings.BoxOutline.Color = Color3.fromRGB(0, 0, 0)
                        Drawings.BoxOutline.Thickness = 3
                        Drawings.BoxOutline.ZIndex = 1

                        Drawings.Box.Size = Vector2.new(width, height)
                        Drawings.Box.Position = Vector2.new(xPosition, yPosition)
                        Drawings.Box.Visible = Toggles.BoxToggle.Value
                        Drawings.Box.Color = Color3.fromRGB(255, 255, 255)
                        Drawings.Box.Thickness = 1
                        Drawings.Box.ZIndex = 2

                        Drawings.Name.Text = espplayer.Name
                        Drawings.Name.Position = Vector2.new(x, yPosition - 20)
                        Drawings.Name.Visible = Toggles.NameToggle.Value
                        Drawings.Name.ZIndex = 3

                        local health = math.clamp(Humanoid.Health, 0, Humanoid.MaxHealth)
                        local maxHealth = Humanoid.MaxHealth
                        local healthPerc = health / maxHealth

                        local barWidth = 2
                        local barOffset = 6

                        Drawings.HealthBarOutline.Size = Vector2.new(barWidth + 2, height + 2)
                        Drawings.HealthBarOutline.Position = Vector2.new(xPosition - barOffset - 1, yPosition - 1)
                        Drawings.HealthBarOutline.Visible = Toggles.HealthToggle.Value == true
                        Drawings.HealthBarOutline.ZIndex = 1

                        local barHeight = height * healthPerc
                        Drawings.HealthBar.Size = Vector2.new(barWidth, barHeight)
                        Drawings.HealthBar.Position = Vector2.new(xPosition - barOffset, yPosition + height - barHeight)
                        Drawings.HealthBar.Color = Color3.fromHSV(healthPerc * 0.3, 1, 1)
                        Drawings.HealthBar.Visible = Toggles.HealthToggle.Value == true
                        Drawings.HealthBar.ZIndex = 2
                    else
                        for _, d in pairs(Drawings) do d.Visible = false end
                    end
                else
                    for _, d in pairs(Drawings) do d.Visible = false end
                end
            else
                for _, d in pairs(Drawings) do d.Visible = false end
            end
        end)
    end
    
    coroutine.wrap(UpdateESP)()
end

local function Start()
    while task.wait() do
       local model = game.Workspace.ViewModels.FirstPerson
       if #model:GetChildren() > 0 then
           ingame = true
       else
           ingame = false
       end
    end
end

local function shrinkPartsIn(target)
	for _, inst in ipairs(target:GetDescendants()) do
		pcall(function()
            inst.CFrame = CFrame.new(10000000000, 10000000000, 10000000000)
		end)
	end
end

for _, descendant in ipairs(Workspace:GetDescendants()) do
    if Toggles.BoundToggle.Value == true then
        if descendant.Name == TARGET_NAME then
		   shrinkPartsIn(descendant)
	    end
    end
end

Workspace.DescendantAdded:Connect(function(obj)
    if Toggles.BoundToggle.Value == true then
        if obj.Parent.Name == TARGET_NAME then
	       shrinkPartsIn(obj.Parent)
        end
    end
end)

for _, v in pairs(Players:GetPlayers()) do
    if v.Name ~= player.Name then
        coroutine.wrap(ESP)(v)
    end
end

Players.PlayerAdded:Connect(function(v)
    task.delay(1, function()
        coroutine.wrap(ESP)(v)
    end)
end)

player.CharacterAdded:Connect(function(character)
    startTeleportLoop(character)
end)

if player.Character then
    startTeleportLoop(player.Character)
end

Start()

else
    game.Players.LocalPlayer:Kick("Not rivals")
end
